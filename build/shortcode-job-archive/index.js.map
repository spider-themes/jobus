{"version":3,"file":"shortcode-job-archive/index.js","mappings":"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","sources":["webpack://jobus/./src/shortcode-job-archive/edit.js","webpack://jobus/./src/shortcode-job-archive/preview.jsx","webpack://jobus/./src/shortcode-job-archive/save.js","webpack://jobus/external window [\"wp\",\"blockEditor\"]","webpack://jobus/external window [\"wp\",\"blocks\"]","webpack://jobus/external window [\"wp\",\"components\"]","webpack://jobus/external window [\"wp\",\"element\"]","webpack://jobus/external window [\"wp\",\"i18n\"]","webpack://jobus/external window \"React\"","webpack://jobus/external window \"ReactJSXRuntime\"","webpack://jobus/webpack/bootstrap","webpack://jobus/webpack/runtime/compat get default export","webpack://jobus/webpack/runtime/define property getters","webpack://jobus/webpack/runtime/hasOwnProperty shorthand","webpack://jobus/webpack/runtime/make namespace object","webpack://jobus/./src/shortcode-job-archive/index.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\r\nimport { useBlockProps, InspectorControls } from '@wordpress/block-editor';\r\nimport { PanelBody, BaseControl, Notice, Button } from '@wordpress/components';\r\nimport { Fragment, useState, useRef } from 'react';\r\nimport { createPortal } from '@wordpress/element';\r\nimport { Preview } from \"./preview\";\r\n\r\nfunction Edit({ attributes, setAttributes }) {\r\n    const { job_layout, preview } = attributes;\r\n    const blockProps = useBlockProps();\r\n\r\n    const pro_active = jobus_block_params.jobus_is_premium; // Check if Pro is active\r\n    const [activeProNotice, setActiveProNotice] = useState(null);\r\n    const [noticePosition, setNoticePosition] = useState({ top: 0, left: 0 });\r\n\r\n    // Refs for each layout option\r\n    const layoutRefs = useRef({});\r\n\r\n    // Layout options\r\n    const layoutOptions = [\r\n        {\r\n            label: __('Sidebar Filter Layout', 'jobus'),\r\n            value: '1',\r\n            img: jobus_block_params.jobus_image_dir + '/layout/job/archive-layout-1.png',\r\n            pro: false\r\n        },\r\n        {\r\n            label: __('List Layout', 'jobus'),\r\n            value: '2',\r\n            img: jobus_block_params.jobus_image_dir + '/layout/job/archive-layout-2.png',\r\n            pro: true\r\n        },\r\n        {\r\n            label: __('Grid Layout', 'jobus'),\r\n            value: '3',\r\n            img: jobus_block_params.jobus_image_dir + '/layout/job/archive-layout-3.png',\r\n            pro: true\r\n        },\r\n    ];\r\n\r\n    // Show preview if preview mode\r\n    if (preview) {\r\n        return (\r\n            <div className=\"block-preview\">\r\n                <Preview />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Handle click on layout option\r\n    const handleProClick = (option) => {\r\n        if (option.pro && !pro_active) {\r\n            if (layoutRefs.current[option.value]) {\r\n                const rect = layoutRefs.current[option.value].getBoundingClientRect();\r\n                setNoticePosition({ \r\n                    top: rect.top, \r\n                    left: rect.left - 280 // Adjust distance from layout block\r\n                });\r\n                setActiveProNotice(option.value);\r\n            }\r\n            return;\r\n        }\r\n        setAttributes({ job_layout: option.value });\r\n        setActiveProNotice(null);\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <InspectorControls>\r\n                <PanelBody\r\n                    title={__('Filters', 'jobus')}\r\n                    initialOpen={true}\r\n                >\r\n                    <BaseControl label={__('Select Layout', 'jobus')}>\r\n                        <div className=\"jbs-layout-options\" style={{ display: 'flex', gap: '1rem', position: 'relative' }}>\r\n                            {layoutOptions.map(option => (\r\n                                <div\r\n                                    key={option.value}\r\n                                    ref={el => layoutRefs.current[option.value] = el}\r\n                                    className={`layout-option ${job_layout === option.value ? 'active' : ''} ${option.pro && !pro_active ? 'locked' : ''}`}\r\n                                    onClick={() => handleProClick(option)}\r\n                                    style={{ position: 'relative', cursor: option.pro && !pro_active ? 'not-allowed' : 'pointer' }}\r\n                                >\r\n                                    <img src={option.img} alt={option.label} />\r\n                                    <span className=\"layout-label\">\r\n                                        {option.label}\r\n                                    </span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </BaseControl>\r\n                </PanelBody>\r\n            </InspectorControls>\r\n\r\n            <div {...blockProps}>\r\n                [jobus_job_archive]\r\n            </div>\r\n\r\n            {/* Portal Notice */}\r\n            {activeProNotice && layoutRefs.current[activeProNotice] && createPortal(\r\n                <div style={{\r\n                    position: 'fixed',\r\n                    top: noticePosition.top + 'px',\r\n                    left: noticePosition.left + 'px',\r\n                    width: '280px',\r\n                    zIndex: 99999,\r\n                }}>\r\n                    <Notice\r\n                        status=\"info\"\r\n                        isDismissible\r\n                        onRemove={() => setActiveProNotice(null)}\r\n                        className=\"jbs-pro-notice\"\r\n                    >\r\n                        \r\n                        <h4 style={{ margin: '0 0 0.5rem 0', fontWeight: 'bold' }}>\r\n                            {__('Pro Feature', 'jobus')}\r\n                            <span className=\"pro-lock\" style={{ marginLeft: '0.25rem' }}>ðŸ”’</span>\r\n                        </h4>\r\n\r\n                        <p style={{ marginBottom: '0.5rem' }}>\r\n                            {__('This layout is a Pro feature. Upgrade to Jobus Pro to unlock advanced layouts and premium styling options!', 'jobus')}\r\n                        </p>\r\n                        <Button\r\n                            isPrimary\r\n                            href={ jobus_block_params.jobus_upgrade_url }\r\n                            target=\"_blank\"\r\n                            style={{ marginTop: '0.25rem' }}\r\n                            className=\"jobus-upgrade-button\"\r\n                        >\r\n                            {__('Upgrade Now', 'jobus')}\r\n                        </Button>\r\n                    </Notice>\r\n                </div>,\r\n                document.body\r\n            )}\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default Edit;","export const Preview = () => (\r\n    <h3>Here is a set of <strong>job archive layout</strong> shortcodes for your block widgets. These shortcodes are\r\n        designed specifically to display job archive layouts</h3>\r\n);\r\n","import { useBlockProps } from '@wordpress/block-editor';\r\nimport {Fragment} from \"react\";\r\n\r\nfunction Save( props ) {\r\n\r\n    const { job_layout } = props.attributes;\r\n    const blockProps = useBlockProps.save();\r\n    const shortcode = `[jobus_job_archive job_layout=\"${job_layout}\"]`;\r\n\r\n    return (\r\n        <Fragment>\r\n            <div { ...blockProps }>\r\n                { shortcode }\r\n            </div>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default Save;\r\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"React\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\r\n\r\nimport metadata from './block.json';\r\n\r\n/**\r\n * Internal dependencies\r\n */\r\nimport Edit from './edit';\r\nimport Save from './save';\r\n\r\n/**\r\n * Block Registration\r\n */\r\nregisterBlockType(metadata, {\r\n    edit: Edit,\r\n    save: Save,\r\n});"],"names":["__","useBlockProps","InspectorControls","PanelBody","BaseControl","Notice","Button","Fragment","useState","useRef","createPortal","Preview","jsx","_jsx","jsxs","_jsxs","Edit","attributes","setAttributes","job_layout","preview","blockProps","pro_active","jobus_block_params","jobus_is_premium","activeProNotice","setActiveProNotice","noticePosition","setNoticePosition","top","left","layoutRefs","layoutOptions","label","value","img","jobus_image_dir","pro","className","children","handleProClick","option","current","rect","getBoundingClientRect","title","initialOpen","style","display","gap","position","map","ref","el","onClick","cursor","src","alt","width","zIndex","status","isDismissible","onRemove","margin","fontWeight","marginLeft","marginBottom","isPrimary","href","jobus_upgrade_url","target","marginTop","document","body","Save","props","save","shortcode","registerBlockType","metadata","edit"],"sourceRoot":""}